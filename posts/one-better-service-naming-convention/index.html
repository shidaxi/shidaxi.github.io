<!doctype html><html lang=en><head><title>一种我喜欢的互联网公司应用服务命名规范 :: Tech Memory</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="服务名的作用  给人用，标识一个服务，便于团队沟通协作 给程序用，用于围绕该应用的各种资源的命名，进而用于自动化处理，例如  给云资源命名， dev-fooapp-ec2 给k8s资源命名, fooapp-ingress, fooapp-deployment 给域名命名 foo.example.com    常见命名风格  camelCase, 首字母小写，后续每个单词首字母大写，比较常见应用于Java等编程语言 PascalCase, 跟camelCase 类似，但是每个单词首字母大写 snake_case, 比较常见于C，bash等大多数编程语言 kebab-case, 跟snake_case 类似，只不过用的是短横线-而非下划线 Pascal-Kebab-Hybride-Case, 微软powershell里见过 Pasical_Snake_Hybride_Case, 不常见 snake_kebab-hybrade_case, 看到有些头痛&amp;hellip; Snake_Kebab-Hybrade_Case, 看到十分头痛&amp;hellip; Snake_kebab-hybrade_Case, 脑袋要炸了&amp;hellip; lowercase, 全小写，但是如果命名不好，会影响人肉眼可读性  命名风格没有好坏之分, 只有适合的场景, 以及最重要的是要 风格统一, 跟团队保持统一, 跟开源社区保持统一
服务名如何命名 首先前面提到，服务名一个很重要的作用是，用于构成其他资源名，进而我们可以通过资源名中包含的服务名来识别 该资源属于哪一个服务. 我们互联网服务中可能会使用到各种各样的资源，会使用服务名的资源包括但不限于
 各种云资源命名，Tag名 容器/K8S相关的各种资源 程序、脚本的变量名/方法名 配置项 hostname，domain name  各种资源都会有各种限制，例如
 domain name不允许有_下划线,同理会用到hostname或者domain name的地方，都不允许，例如aws的alb名 部分web服务器例如nginx，会默认drop掉name中包含_的http header, 因此http header 不允许有_ 有的场景严格区分大小写，有的场景仅能用小写、仅能用大写，或者会自动转换 几乎所有编程语言变量名，不允许包含短横线-， 例如你不能将变量名命名为 FOO-SERVICE-API 各种全文搜索引擎会对-进行分词, 因此，如果你搜索 foo-service 你会搜到包含foo或者包含service的结果，如果你搜索fooservice那只有fooservice结果，这个在日志搜索里经常遇到  由于以上限制存在，很多工具或者框架，会做一些自动转换处理，例如 snake_case变CamelCase, 大写变小写，自动去掉-或者_， 我们在编写脚本的时候也要按需做这些处理，以适应要求。"><meta name=keywords content="naming,convention"><meta name=robots content="noodp"><link rel=canonical href=/posts/one-better-service-naming-convention/><script async src="https://www.googletagmanager.com/gtag/js?id=G-V7B9YXY847"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-V7B9YXY847",{anonymize_ip:!1})}</script><link rel=stylesheet href=/assets/style.css><link rel=apple-touch-icon href=/img/apple-touch-icon-192x192.png><link rel="shortcut icon" href=/favicon.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="一种我喜欢的互联网公司应用服务命名规范"><meta property="og:description" content="服务名的作用  给人用，标识一个服务，便于团队沟通协作 给程序用，用于围绕该应用的各种资源的命名，进而用于自动化处理，例如  给云资源命名， dev-fooapp-ec2 给k8s资源命名, fooapp-ingress, fooapp-deployment 给域名命名 foo.example.com    常见命名风格  camelCase, 首字母小写，后续每个单词首字母大写，比较常见应用于Java等编程语言 PascalCase, 跟camelCase 类似，但是每个单词首字母大写 snake_case, 比较常见于C，bash等大多数编程语言 kebab-case, 跟snake_case 类似，只不过用的是短横线-而非下划线 Pascal-Kebab-Hybride-Case, 微软powershell里见过 Pasical_Snake_Hybride_Case, 不常见 snake_kebab-hybrade_case, 看到有些头痛&amp;hellip; Snake_Kebab-Hybrade_Case, 看到十分头痛&amp;hellip; Snake_kebab-hybrade_Case, 脑袋要炸了&amp;hellip; lowercase, 全小写，但是如果命名不好，会影响人肉眼可读性  命名风格没有好坏之分, 只有适合的场景, 以及最重要的是要 风格统一, 跟团队保持统一, 跟开源社区保持统一
服务名如何命名 首先前面提到，服务名一个很重要的作用是，用于构成其他资源名，进而我们可以通过资源名中包含的服务名来识别 该资源属于哪一个服务. 我们互联网服务中可能会使用到各种各样的资源，会使用服务名的资源包括但不限于
 各种云资源命名，Tag名 容器/K8S相关的各种资源 程序、脚本的变量名/方法名 配置项 hostname，domain name  各种资源都会有各种限制，例如
 domain name不允许有_下划线,同理会用到hostname或者domain name的地方，都不允许，例如aws的alb名 部分web服务器例如nginx，会默认drop掉name中包含_的http header, 因此http header 不允许有_ 有的场景严格区分大小写，有的场景仅能用小写、仅能用大写，或者会自动转换 几乎所有编程语言变量名，不允许包含短横线-， 例如你不能将变量名命名为 FOO-SERVICE-API 各种全文搜索引擎会对-进行分词, 因此，如果你搜索 foo-service 你会搜到包含foo或者包含service的结果，如果你搜索fooservice那只有fooservice结果，这个在日志搜索里经常遇到  由于以上限制存在，很多工具或者框架，会做一些自动转换处理，例如 snake_case变CamelCase, 大写变小写，自动去掉-或者_， 我们在编写脚本的时候也要按需做这些处理，以适应要求。"><meta property="og:url" content="/posts/one-better-service-naming-convention/"><meta property="og:site_name" content="Tech Memory"><meta property="og:image" content="/favicon.png"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:published_time" content="2021-05-23 21:00:00 +0800 +0800"></head><body class=orange><div class="container headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>tech @ memory: ~ $</div></a></div><div class=menu-trigger>menu</div></div><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/>Posts</a></li><li><a href=/cheatsheets>Cheatsheets</a></li><li><a href=/tools>Tools</a></li><li><a href=/icon-collections>Icons</a></li><li><a href=/about>About</a></li></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/>Posts</a></li><li><a href=/cheatsheets>Cheatsheets</a></li><li><a href=/tools>Tools</a></li><li><a href=/icon-collections>Icons</a></li><li><a href=/about>About</a></li></ul></nav></header><div class=content><div class=post><h1 class=post-title><a href=/posts/one-better-service-naming-convention/>一种我喜欢的互联网公司应用服务命名规范</a></h1><div class=post-meta><span class=post-date>2021-05-23</span></div><span class=post-tags>#<a href=/tags/naming/>naming</a>&nbsp;
#<a href=/tags/convention/>convention</a>&nbsp;</span><div class=table-of-contents><h2>Table of Contents</h2><nav id=TableOfContents><ul><li><a href=#服务名的作用>服务名的作用</a></li><li><a href=#常见命名风格>常见命名风格</a></li><li><a href=#服务名如何命名>服务名如何命名</a></li><li><a href=#比较好的服务命名规范>比较好的服务命名规范</a></li><li><a href=#常见功能词汇列表参考>常见功能词汇列表参考</a></li></ul></nav></div><div class=post-content><div><img src=imgs/programmer-s-hardest-task.png class=left style=border-radius:8px><h2 id=服务名的作用>服务名的作用<a href=#服务名的作用 class=hanchor arialabel=Anchor>&#8983;</a></h2><ul><li>给人用，标识一个服务，便于团队沟通协作</li><li>给程序用，用于围绕该应用的各种资源的命名，进而用于自动化处理，例如<ul><li>给云资源命名， dev-fooapp-ec2</li><li>给k8s资源命名, fooapp-ingress, fooapp-deployment</li><li>给域名命名 foo.example.com</li></ul></li></ul><h2 id=常见命名风格>常见命名风格<a href=#常见命名风格 class=hanchor arialabel=Anchor>&#8983;</a></h2><ul><li>camelCase, 首字母小写，后续每个单词首字母大写，比较常见应用于Java等编程语言</li><li>PascalCase, 跟camelCase 类似，但是每个单词首字母大写</li><li>snake_case, 比较常见于C，bash等大多数编程语言</li><li>kebab-case, 跟snake_case 类似，只不过用的是短横线-而非下划线</li><li>Pascal-Kebab-Hybride-Case, 微软powershell里见过</li><li>Pasical_Snake_Hybride_Case, 不常见</li><li>snake_kebab-hybrade_case, 看到有些头痛&mldr;</li><li>Snake_Kebab-Hybrade_Case, 看到十分头痛&mldr;</li><li>Snake_kebab-hybrade_Case, 脑袋要炸了&mldr;</li><li>lowercase, 全小写，但是如果命名不好，会影响人肉眼可读性</li></ul><p>命名风格没有好坏之分, 只有适合的场景, 以及最重要的是要 <strong>风格统一</strong>, 跟团队保持统一, 跟开源社区保持统一</p><h2 id=服务名如何命名>服务名如何命名<a href=#服务名如何命名 class=hanchor arialabel=Anchor>&#8983;</a></h2><p>首先前面提到，服务名一个很重要的作用是，<strong>用于构成其他资源名</strong>，进而我们可以通过资源名中包含的服务名来识别 该资源属于哪一个服务.
我们互联网服务中可能会使用到各种各样的资源，会使用服务名的资源包括但不限于</p><ul><li>各种云资源命名，Tag名</li><li>容器/K8S相关的各种资源</li><li>程序、脚本的变量名/方法名</li><li>配置项</li><li>hostname，domain name</li></ul><p>各种资源都会有各种限制，例如</p><ol><li>domain name不允许有<code>_</code>下划线,同理会用到hostname或者domain name的地方，都不允许，例如aws的alb名</li><li>部分web服务器例如nginx，会默认drop掉name中包含<code>_</code>的http header, 因此http header 不允许有<code>_</code></li><li>有的场景严格区分大小写，有的场景仅能用小写、仅能用大写，或者会自动转换</li><li>几乎所有编程语言变量名，不允许包含短横线<code>-</code>， 例如你不能将变量名命名为 FOO-SERVICE-API</li><li>各种全文搜索引擎会对<code>-</code>进行分词, 因此，如果你搜索 foo-service 你会搜到包含foo或者包含service的结果，如果你搜索fooservice那只有fooservice结果，这个在日志搜索里经常遇到</li></ol><p>由于以上限制存在，很多工具或者框架，会做一些自动转换处理，例如 snake_case变CamelCase, 大写变小写，自动去掉<code>-</code>或者<code>_</code>， 我们在编写脚本的时候也要按需做这些处理，以适应要求。</p><p>所以，有没有一种可以规避以上大部分限制的，有，那就是全部小写，<strong>牺牲一丢丢人眼可读性换取极大提升程序可处理性</strong>.</p><p>全小写可读性不好，是否可以用 kebab-case呢? 假如 我们有3个服务 foo, foo-api, foo-api-gateway&mldr;</p><ul><li>你搜索foo的日志的时候，会找不到你想要的</li><li>你用terraform创建ec2的时候，你的Name Tag可能是下面的, 当你用脚本想通过解析tag获取它属于哪个serice的时候，会比较困难<ul><li>prod-orgname-foo-ec2</li><li>prod-orgname-foo-api-ec2</li><li>prod-orgname-foo-api-gateway-ec2
如果是这样，是不是好很多</li><li>prod-orgname-foo-ec2</li><li>prod-orgname-fooapi-ec2</li><li>prod-orgname-fooapigateway-ec2</li></ul></li></ul><h2 id=比较好的服务命名规范>比较好的服务命名规范<a href=#比较好的服务命名规范 class=hanchor arialabel=Anchor>&#8983;</a></h2><p>好的名称目标是</p><ol><li>保持良好的人眼可读性, 对人友好</li><li>规避大部分情况的限制, 对程序友好</li></ol><p>因此可以使用如下规则</p><ol><li>使用1~3个有明确意义的全小写单词或者数字组成(但不能用数字开头), 见名知意，不要超过20个字符, 不要使用生僻词。 好的例子: <code>mysql</code> <code>github</code> <code>springbootadmin</code> <code>phpmyadmin</code> <code>elasticsearch</code> <code>alertmanager</code> <code>djangorestframework</code>. 不好的例子：<code>kubernetes</code>, 太生僻，以至于大家都用<code>k8s</code>取代</li><li>不要使用特殊代号, 除非是轮子类项目</li><li>推荐使用 业务名+功能名的方式，比如 <code>paymentapi</code> <code>paymentjob</code> <code>userconsole</code> <code>usercenter</code> <code>orderapi</code> <code>orderui</code></li><li>可以包含数字，数字可以起到了分隔符的作用，有利于提高可读性，例如可以用数字4来做for的谐音, 可以用于有特定关系的应用，例如<code>log4j</code>; 2作为to的谐音, 可以用于有转换功能的应用, 例如<code>json2yaml</code></li><li>避免使用一些太general的词汇，比如 <code>mainapp</code>, <code>defaultapp</code>, <code>webapp</code></li><li>避免使用new/old含有历史信息的词汇，比如如果你重构了一个全新版本的foo，起名为newfoo，如果再有重构呢？可以用 foo2 foo3</li><li>慎用缩写，除非是well known的缩写，例如，用<code>k8s</code> <code>kube</code>缩写来代指 kubernetes，因此比较好的名字有 <code>kubectl</code> <code>kubectx</code>, 再例如用 <code>gw</code> 代替 <code>gateway</code>, <code>svc</code> 代替 <code>service</code>, <code>es</code> 代替 <code>elasticsearch</code>, <code>mgmt</code> 替代 <code>management</code></li></ol><h2 id=常见功能词汇列表参考>常见功能词汇列表参考<a href=#常见功能词汇列表参考 class=hanchor arialabel=Anchor>&#8983;</a></h2><p>加上你的业务词汇，就是一个很好的服务名</p><table><thead><tr><th>功能</th><th>词汇</th><th>缩写</th><th>例子</th></tr></thead><tbody><tr><td>http api</td><td>api</td><td>api</td><td>orderapi</td></tr><tr><td>api 网关</td><td>gateway</td><td>gw</td><td>ordergw/ordergateway/orderapigw</td></tr><tr><td>web页面</td><td>web</td><td>web</td><td>orderweb</td></tr><tr><td>csr/ssr的前端页面</td><td>ui</td><td>ui</td><td>orderui</td></tr><tr><td>管理后台</td><td>console</td><td>console</td><td>orderconsole</td></tr><tr><td>管理后台</td><td>admin</td><td>admin</td><td>orderadmin</td></tr><tr><td>管理后台</td><td>management</td><td>mgmt</td><td>ordermgmt</td></tr><tr><td>后台job类</td><td>job</td><td>job</td><td>orderjob</td></tr><tr><td>后台job类</td><td>task</td><td>task</td><td>ordertask</td></tr><tr><td>后台job类</td><td>cron</td><td>cron</td><td>ordercron</td></tr><tr><td>后台job类</td><td>runner</td><td>runner</td><td>orderprocessrunner</td></tr><tr><td>调度器类</td><td>scheduler</td><td>scheduler</td><td>fooscheduler</td></tr><tr><td>认证/授权</td><td>auth</td><td>auth</td><td>userauth</td></tr><tr><td>通知类</td><td>notify</td><td>notify</td><td>ordernotify</td></tr><tr><td>通知类</td><td>message</td><td>msg</td><td>ordermsg</td></tr><tr><td>告警类</td><td>alert</td><td>alert</td><td>useralert</td></tr><tr><td>数据处理类</td><td>data</td><td>data</td><td>userdata</td></tr><tr><td>平台类</td><td>platform</td><td>platform</td><td>userplatform</td></tr></tbody></table></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button next"><a href=/posts/k8s-service-troubleshoot/><span class=button__text>k8s service troubleshoot</span>
<span class=button__icon>→</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2022 Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script src=/assets/main.js></script>
<script src=/assets/prism.js></script></div></body></html>